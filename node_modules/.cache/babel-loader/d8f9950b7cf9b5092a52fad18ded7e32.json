{"ast":null,"code":"import _regeneratorRuntime from\"/Users/manhsy/Developer/email-rocket/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _slicedToArray from\"/Users/manhsy/Developer/email-rocket/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _asyncToGenerator from\"/Users/manhsy/Developer/email-rocket/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import{Typography,TextField,Paper,Button}from\"@material-ui/core\";import{useState}from\"react\";import CloudUploadIcon from'@material-ui/icons/CloudUpload';import{makeStyles}from'@material-ui/core/styles';import SendIcon from'@material-ui/icons/Send';import*as EmailValidator from'email-validator';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var axios=require('axios');var useStyles=makeStyles(function(theme){return{button:{margin:theme.spacing(1)}};});function handleSubmit(_x,_x2,_x3,_x4,_x5){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(email,password,subject,message,emailList){var result;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(email);console.log(password);console.log(subject);console.log(message);console.log(emailList);_context2.next=7;return axios.post('https://email-rocket.netlify.app/.netlify/functions/email',{\"email\":email,\"password\":password,\"subject\":subject,\"body\":message,\"emailList\":emailList});case 7:result=_context2.sent;console.log(result);return _context2.abrupt(\"return\",result);case 10:case\"end\":return _context2.stop();}}},_callee2);}));return _handleSubmit.apply(this,arguments);}function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),results=_useState2[0],setResult=_useState2[1];var classes=useStyles();var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),emailList=_useState6[0],setEmailList=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),subject=_useState10[0],setSubject=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),message=_useState12[0],setMessage=_useState12[1];var fileSelectHandler=function fileSelectHandler(event){var file=event.target.files[0];var reader=new FileReader();reader.onload=function(e){// The file's text will be printed here\nsetEmailList(e.target.result.split(\"\\n\").map(function(email){return email.trim();}));};reader.readAsText(file);};var hasValidInput=function hasValidInput(){return email.length>0&&emailList.length>0&&password.length>0&&subject.length>0&&message.length>0&&message.length<1000&&emailList.every(function(email){return EmailValidator.validate(email);});};return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",marginTop:100},children:[/*#__PURE__*/_jsx(Typography,{style:{color:\"#fff\",fontWeight:'bold',fontSize:112,fontFamily:'Brown Pro'},children:\" Email Rocket \"}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",style:{color:\"#D3D3D3\",fontSize:25},children:\" Ever wanted to send the same email to multiple receivers? Email Rocket is here for you! \"}),/*#__PURE__*/_jsx(TextField,{style:{marginTop:20},id:\"standard-basic\",label:\"Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextField,{style:{marginTop:20},id:\"standard-password-input\",label:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},type:\"password\",autoComplete:\"current-password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextField,{style:{marginTop:20},id:\"standard-textarea\",label:\"Subject\",value:subject,onChange:function onChange(e){return setSubject(e.target.value);},multiline:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(TextField,{style:{marginTop:10},id:\"standard-textarea\",label:\"Message\",value:message,onChange:function onChange(e){return setMessage(e.target.value);},multiline:true,helperText:\"Character count: \".concat(message.length),error:message.length>=1000}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Paper,{elevation:3,style:{width:\"30%\",margin:\"auto\",marginTop:20,padding:20},children:[/*#__PURE__*/_jsx(Typography,{variant:\"subtitle1\",children:\"Upload .txt file of emails (format: an email per line)\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",className:classes.button,startIcon:/*#__PURE__*/_jsx(CloudUploadIcon,{}),onClick:function onClick(){return document.getElementById(\"selectFile\").click();},children:\"Upload\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{id:\"selectFile\",hidden:true,type:\"file\",onChange:fileSelectHandler}),emailList.length>0&&/*#__PURE__*/_jsx(Typography,{variant:\"subtitle2\",style:{marginTop:20},children:hasValidInput()?\"Emails Loaded: \".concat(emailList.length):\"Error parsing email\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",className:classes.button,endIcon:/*#__PURE__*/_jsx(SendIcon,{}),disabled:!hasValidInput(),onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return handleSubmit(email,password,subject,message,emailList);case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}}},_callee);})),value:results,onChange:function onChange(e){return setResult(e.target.value);},children:\"Send\"}),/*#__PURE__*/_jsx(Typography,{variant:\"subtitle\",children:results})]})]});}export default App;","map":{"version":3,"sources":["/Users/manhsy/Developer/email-rocket/src/App.js"],"names":["React","Typography","TextField","Paper","Button","useState","CloudUploadIcon","makeStyles","SendIcon","EmailValidator","axios","require","useStyles","theme","button","margin","spacing","handleSubmit","email","password","subject","message","emailList","console","log","post","result","App","results","setResult","classes","setEmail","setEmailList","setPassword","setSubject","setMessage","fileSelectHandler","event","file","target","files","reader","FileReader","onload","e","split","map","trim","readAsText","hasValidInput","length","every","validate","textAlign","marginTop","color","fontWeight","fontSize","fontFamily","value","width","padding","document","getElementById","click"],"mappings":"8cAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,CAAqBC,SAArB,CAAgCC,KAAhC,CAAuCC,MAAvC,KAAqD,mBAArD,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,MAAOC,CAAAA,eAAP,KAA4B,gCAA5B,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,QAAP,KAAqB,yBAArB,CAEA,MAAO,GAAKC,CAAAA,cAAZ,KAAgC,iBAAhC,C,wFAEA,GAAMC,CAAAA,KAAK,CAAGC,OAAO,CAAC,OAAD,CAArB,CACA,GAAMC,CAAAA,SAAS,CAAGL,UAAU,CAAC,SAACM,KAAD,QAAY,CACvCC,MAAM,CAAE,CACNC,MAAM,CAAEF,KAAK,CAACG,OAAN,CAAc,CAAd,CADF,CAD+B,CAAZ,EAAD,CAA5B,C,QAMeC,CAAAA,Y,gKAAf,kBAA4BC,KAA5B,CAAmCC,QAAnC,CAA6CC,OAA7C,CAAsDC,OAAtD,CAA+DC,SAA/D,iIACEC,OAAO,CAACC,GAAR,CAAYN,KAAZ,EACAK,OAAO,CAACC,GAAR,CAAYL,QAAZ,EACAI,OAAO,CAACC,GAAR,CAAYJ,OAAZ,EACAG,OAAO,CAACC,GAAR,CAAYH,OAAZ,EACAE,OAAO,CAACC,GAAR,CAAYF,SAAZ,EALF,uBAMuBZ,CAAAA,KAAK,CAACe,IAAN,CAAW,2DAAX,CAAwE,CACnF,QAAUP,KADyE,CAEnF,WAAaC,QAFsE,CAGnF,UAAYC,OAHuE,CAInF,OAASC,OAJ0E,CAKnF,YAAcC,SALqE,CAAxE,CANvB,QAMQI,MANR,gBAaEH,OAAO,CAACC,GAAR,CAAYE,MAAZ,EAbF,iCAcSA,MAdT,2D,+CAiBA,QAASC,CAAAA,GAAT,EAAe,eACgBtB,QAAQ,CAAC,EAAD,CADxB,wCACNuB,OADM,eACGC,SADH,eAEb,GAAMC,CAAAA,OAAO,CAAGlB,SAAS,EAAzB,CAFa,eAGaP,QAAQ,CAAC,EAAD,CAHrB,yCAGNa,KAHM,eAGCa,QAHD,8BAIqB1B,QAAQ,CAAC,EAAD,CAJ7B,yCAINiB,SAJM,eAIKU,YAJL,8BAKmB3B,QAAQ,CAAC,EAAD,CAL3B,yCAKNc,QALM,eAKIc,WALJ,8BAMiB5B,QAAQ,CAAC,EAAD,CANzB,0CAMNe,OANM,gBAMGc,UANH,gCAOiB7B,QAAQ,CAAC,EAAD,CAPzB,2CAONgB,OAPM,gBAOGc,UAPH,gBAQb,GAAMC,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,KAAD,CAAW,CACrC,GAAIC,CAAAA,IAAI,CAAGD,KAAK,CAACE,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAX,CACA,GAAIC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,UAAJ,EAAb,CAEAD,MAAM,CAACE,MAAP,CAAgB,SAAUC,CAAV,CAAa,CAC3B;AACAZ,YAAY,CAACY,CAAC,CAACL,MAAF,CAASb,MAAT,CAAgBmB,KAAhB,CAAsB,IAAtB,EAA4BC,GAA5B,CAAgC,SAAC5B,KAAD,QAAWA,CAAAA,KAAK,CAAC6B,IAAN,EAAX,EAAhC,CAAD,CAAZ,CACD,CAHD,CAKEN,MAAM,CAACO,UAAP,CAAkBV,IAAlB,EACD,CAVD,CAYA,GAAMW,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CAC1B,MACE/B,CAAAA,KAAK,CAACgC,MAAN,CAAe,CAAf,EACA5B,SAAS,CAAC4B,MAAV,CAAmB,CADnB,EAEA/B,QAAQ,CAAC+B,MAAT,CAAkB,CAFlB,EAGA9B,OAAO,CAAC8B,MAAR,CAAiB,CAHjB,EAIA7B,OAAO,CAAC6B,MAAR,CAAiB,CAJjB,EAKA7B,OAAO,CAAC6B,MAAR,CAAiB,IALjB,EAMA5B,SAAS,CAAC6B,KAAV,CAAgB,SAACjC,KAAD,QAAWT,CAAAA,cAAc,CAAC2C,QAAf,CAAwBlC,KAAxB,CAAX,EAAhB,CAPF,CASD,CAVD,CAYA,mBAAO,aAAK,KAAK,CAAE,CAACmC,SAAS,CAAE,QAAZ,CAAsBC,SAAS,CAAE,GAAjC,CAAZ,wBAEH,KAAC,UAAD,EAAY,KAAK,CAAE,CAACC,KAAK,CAAE,MAAR,CAAgBC,UAAU,CAAE,MAA5B,CAAoCC,QAAQ,CAAE,GAA9C,CAAmDC,UAAU,CAAE,WAA/D,CAAnB,4BAFG,cAGH,KAAC,UAAD,EAAY,OAAO,CAAG,WAAtB,CAAkC,KAAK,CAAE,CAACH,KAAK,CAAE,SAAR,CAAmBE,QAAQ,CAAE,EAA7B,CAAzC,uGAHG,cAMD,KAAC,SAAD,EACE,KAAK,CAAE,CAAEH,SAAS,CAAE,EAAb,CADT,CAEE,EAAE,CAAC,gBAFL,CAGE,KAAK,CAAC,OAHR,CAIE,KAAK,CAAIpC,KAJX,CAKE,QAAQ,CAAI,kBAAC0B,CAAD,QAAOb,CAAAA,QAAQ,CAACa,CAAC,CAACL,MAAF,CAASoB,KAAV,CAAf,EALd,EANC,cAYD,aAZC,cAcD,KAAC,SAAD,EACI,KAAK,CAAE,CAAEL,SAAS,CAAE,EAAb,CADX,CAEI,EAAE,CAAC,yBAFP,CAGI,KAAK,CAAC,UAHV,CAII,KAAK,CAAInC,QAJb,CAKI,QAAQ,CAAI,kBAACyB,CAAD,QAAOX,CAAAA,WAAW,CAACW,CAAC,CAACL,MAAF,CAASoB,KAAV,CAAlB,EALhB,CAMI,IAAI,CAAC,UANT,CAOI,YAAY,CAAC,kBAPjB,EAdC,cAsBD,aAtBC,cAuBD,KAAC,SAAD,EACE,KAAK,CAAE,CAAEL,SAAS,CAAE,EAAb,CADT,CAEE,EAAE,CAAC,mBAFL,CAGE,KAAK,CAAC,SAHR,CAIE,KAAK,CAAIlC,OAJX,CAKE,QAAQ,CAAI,kBAACwB,CAAD,QAAOV,CAAAA,UAAU,CAACU,CAAC,CAACL,MAAF,CAASoB,KAAV,CAAjB,EALd,CAME,SAAS,KANX,EAvBC,cA8BD,aA9BC,cA+BD,KAAC,SAAD,EACE,KAAK,CAAE,CAAEL,SAAS,CAAE,EAAb,CADT,CAEE,EAAE,CAAC,mBAFL,CAGE,KAAK,CAAC,SAHR,CAIE,KAAK,CAAIjC,OAJX,CAKE,QAAQ,CAAI,kBAACuB,CAAD,QAAOT,CAAAA,UAAU,CAACS,CAAC,CAACL,MAAF,CAASoB,KAAV,CAAjB,EALd,CAME,SAAS,KANX,CAOE,UAAU,4BAAsBtC,OAAO,CAAC6B,MAA9B,CAPZ,CAQE,KAAK,CAAI7B,OAAO,CAAC6B,MAAR,EAAgB,IAR3B,EA/BC,cAyCD,aAzCC,cA2CL,MAAC,KAAD,EAAO,SAAS,CAAE,CAAlB,CAAqB,KAAK,CAAE,CAAEU,KAAK,CAAE,KAAT,CAAgB7C,MAAM,CAAE,MAAxB,CAAgCuC,SAAS,CAAE,EAA3C,CAA+CO,OAAO,CAAE,EAAxD,CAA5B,wBACE,KAAC,UAAD,EAAY,OAAO,CAAC,WAApB,oEADF,cAEE,KAAC,MAAD,EACE,OAAO,CAAC,WADV,CAEE,KAAK,CAAC,SAFR,CAGE,SAAS,CAAE/B,OAAO,CAAChB,MAHrB,CAIE,SAAS,cAAE,KAAC,eAAD,IAJb,CAKE,OAAO,CAAE,yBAAMgD,CAAAA,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsCC,KAAtC,EAAN,EALX,oBAFF,cAWE,aAXF,cAYE,cACE,EAAE,CAAC,YADL,CAEE,MAAM,KAFR,CAGE,IAAI,CAAC,MAHP,CAIE,QAAQ,CAAE5B,iBAJZ,EAZF,CAkBGd,SAAS,CAAC4B,MAAV,CAAmB,CAAnB,eACD,KAAC,UAAD,EAAY,OAAO,CAAC,WAApB,CAAgC,KAAK,CAAE,CAAEI,SAAS,CAAE,EAAb,CAAvC,UACGL,aAAa,4BAAuB3B,SAAS,CAAC4B,MAAjC,EAA4C,qBAD5D,EAnBF,cAwBE,KAAC,MAAD,EACI,OAAO,CAAC,WADZ,CAEI,KAAK,CAAC,SAFV,CAGI,SAAS,CAAEpB,OAAO,CAAChB,MAHvB,CAII,OAAO,cAAE,KAAC,QAAD,IAJb,CAKI,QAAQ,CAAE,CAACmC,aAAa,EAL5B,CAMI,OAAO,sEAAG,yJAAkBhC,CAAAA,YAAY,CAACC,KAAD,CAAQC,QAAR,CAAkBC,OAAlB,CAA2BC,OAA3B,CAAoCC,SAApC,CAA9B,6GAAH,EANX,CAOI,KAAK,CAAIM,OAPb,CAQI,QAAQ,CAAI,kBAACgB,CAAD,QAAOf,CAAAA,SAAS,CAACe,CAAC,CAACL,MAAF,CAASoB,KAAV,CAAhB,EARhB,kBAxBF,cAqCE,KAAC,UAAD,EAAY,OAAO,CAAC,UAApB,UAAgC/B,OAAhC,EArCF,GA3CK,GAAP,CAqFD,CACD,cAAeD,CAAAA,GAAf","sourcesContent":["import React from 'react';\nimport { Typography, TextField, Paper, Button } from \"@material-ui/core\";\nimport { useState } from \"react\"\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\nimport { makeStyles } from '@material-ui/core/styles';\nimport SendIcon from '@material-ui/icons/Send';\n\nimport * as EmailValidator from 'email-validator';\n\nconst axios = require('axios');\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    margin: theme.spacing(1),\n  },\n}));\n\nasync function handleSubmit(email, password, subject, message, emailList){\n  console.log(email);\n  console.log(password);\n  console.log(subject);\n  console.log(message);\n  console.log(emailList);\n  const result = await axios.post('https://email-rocket.netlify.app/.netlify/functions/email', {\n            \"email\" : email,\n            \"password\" : password,\n            \"subject\" : subject,\n            \"body\" : message,\n            \"emailList\" : emailList\n          })\n  console.log(result);\n  return result;\n\n}\nfunction App() {\n  const [results, setResult] = useState('');\n  const classes = useStyles();\n  const [email, setEmail] = useState('');\n  const [emailList, setEmailList] = useState([]);\n  const [password, setPassword] = useState('');\n  const [subject, setSubject] = useState('');\n  const [message, setMessage] = useState('');\n  const fileSelectHandler = (event) => {\n  let file = event.target.files[0];\n  let reader = new FileReader();\n\n  reader.onload = function (e) {\n    // The file's text will be printed here\n    setEmailList(e.target.result.split(\"\\n\").map((email) => email.trim()));\n  };\n  \n    reader.readAsText(file);\n  };\n\n  const hasValidInput = () => {\n    return (\n      email.length > 0 &&\n      emailList.length > 0 &&\n      password.length > 0 &&\n      subject.length > 0 &&\n      message.length > 0 &&\n      message.length < 1000 && \n      emailList.every((email) => EmailValidator.validate(email))\n    );\n  };\n\n  return <div style={{textAlign: \"center\", marginTop: 100 }}>\n\n      <Typography style={{color: \"#fff\", fontWeight: 'bold', fontSize: 112, fontFamily: 'Brown Pro'}}> Email Rocket </Typography>\n      <Typography variant = 'subtitle1' style={{color: \"#D3D3D3\", fontSize: 25}}> Ever wanted to send the same email to multiple receivers? Email Rocket is here for you! </Typography>\n\n\n        <TextField \n          style={{ marginTop: 20 }}\n          id=\"standard-basic\" \n          label=\"Email\" \n          value = {email}\n          onChange = {(e) => setEmail(e.target.value)}/>\n        <br/>  \n        \n        <TextField \n            style={{ marginTop: 20 }}\n            id=\"standard-password-input\"\n            label=\"Password\"\n            value = {password}\n            onChange = {(e) => setPassword(e.target.value)}\n            type=\"password\"\n            autoComplete=\"current-password\" />\n        <br/>\n        <TextField \n          style={{ marginTop: 20 }}\n          id=\"standard-textarea\"\n          label=\"Subject\"\n          value = {subject}\n          onChange = {(e) => setSubject(e.target.value)}\n          multiline/>\n        <br/>\n        <TextField \n          style={{ marginTop: 10 }}\n          id=\"standard-textarea\"\n          label=\"Message\"\n          value = {message}\n          onChange = {(e) => setMessage(e.target.value)}\n          multiline\n          helperText={`Character count: ${message.length}`}\n          error = {message.length>=1000}\n        />\n        <br/>\n\n    <Paper elevation={3} style={{ width: \"30%\", margin: \"auto\", marginTop: 20, padding: 20 }}>\n      <Typography variant=\"subtitle1\">Upload .txt file of emails (format: an email per line)</Typography>\n      <Button\n        variant=\"contained\"\n        color=\"primary\"\n        className={classes.button}\n        startIcon={<CloudUploadIcon />}\n        onClick={() => document.getElementById(\"selectFile\").click()}\n        >\n        Upload\n      </Button>\n      <br/>\n      <input\n        id=\"selectFile\"\n        hidden\n        type=\"file\"\n        onChange={fileSelectHandler}/>\n\n      {emailList.length > 0 && (\n      <Typography variant=\"subtitle2\" style={{ marginTop: 20 }}>\n        {hasValidInput() ? `Emails Loaded: ${emailList.length}` : \"Error parsing email\"}\n      </Typography>\n    )}\n\n      <Button\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.button}\n          endIcon={<SendIcon></SendIcon>}        \n          disabled={!hasValidInput()}\n          onClick= {async () => await handleSubmit(email, password, subject, message, emailList)}\n          value = {results}\n          onChange = {(e) => setResult(e.target.value)}\n        >\n          Send\n      </Button>\n\n      <Typography variant=\"subtitle\">{results}</Typography>\n\n    </Paper>\n\n    </div>; \n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}